{"componentChunkName":"component---src-templates-post-js","path":"/publish-gatsby-site-to-github-pages","result":{"data":{"markdownRemark":{"html":"<p>Publishing your Gatsby site to GitHub Pages is pretty straight forward actually. It's more involved to set up a custom domain and https but I'll likely cover that later / separately.</p>\n<p>First up install <a href=\"https://github.com/tschaub/gh-pages\">gh-pages package</a></p>\n<p><code class=\"language-text\">npm install gh-pages --save-dev</code></p>\n<p>Add a deploy script to package.json e.g.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master -r https://github.com/username/username.github.io.git\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>To break that down and explain...</p>\n<ol>\n<li>Build it first</li>\n<li>Use gh-pages package</li>\n<li>-d = Destination folder \"public\" (what you want to deploy i.e. the built artifacts)</li>\n<li>-b = Branch \"master\" (depends what you set your source in github settings of the repo)</li>\n<li>-r = Repo - In my case I wanted to your the github username.github.io repo for the public pages but keep my actual source files in another repo. If you don't do this then gh-pages assumes you're in a git repo and uses the configured \"origin\".</li>\n</ol>\n<p>You could also add <code class=\"language-text\">&quot;gh-pages-help&quot;: &quot;gh-pages --help&quot;</code> to your scripts to easily output the help file.</p>\n<p>So now when you run <code class=\"language-text\">npm run deploy</code> it should publish your site to GitHub pages. It should pop up a window to login the first time to GitHub if you're using a credentials helper.</p>\n<p>Note: If you're using a custom domain like I am, you'll need a CNAME file at the root of the published repo with your root host on the first line. Also you need to configure your DNS provider or use something like CloudFlare to do it.</p>\n<p>You can publish to a subdomain and there is additional info on the <a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages\">Gatsby docs site</a>.</p>","frontmatter":{"date":"November 03, 2019","path":"/publish-gatsby-site-to-github-pages","title":"Publishing your Gatsby site to GitHub Pages"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}