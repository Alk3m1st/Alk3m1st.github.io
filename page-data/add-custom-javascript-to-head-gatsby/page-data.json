{"componentChunkName":"component---src-templates-post-js","path":"/add-custom-javascript-to-head-gatsby","result":{"data":{"markdownRemark":{"html":"<p>So I needed to add a small bit of JavaScript to the head section of this site. There seem to be different ways to tackle this, one was to make a copy of the html.js file that's normally in the .cache folder although I chose to make use of the gatsby-ssr.js file instead.</p>\n<p>There are <a href=\"https://www.gatsbyjs.org/docs/ssr-apis/\">several APIs / hooks</a> that allow you to perform certain actions. In this case I needed to add some tracking JavaScript (I went with clicky instead of google's analytics). So it's quite easy and makes use of the onRenderBody hook, the script looks like below.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> React <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">react</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onRenderBody</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\"><span class=\"token punctuation\">{</span> setHeadComponents <span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setHeadComponents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">&lt;</span>script\n      dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        __html<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n            var clicky_site_ids = clicky_site_ids || [];\n            clicky_site_ids.push(000000000);\n          </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">&lt;</span>script\n      <span class=\"token keyword\">async</span>\n      type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span>\n      src<span class=\"token operator\">=</span><span class=\"token string\">\"//static.getclicky.com/js\"</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Reload the site and it should be there in the head section all going well.</p>","frontmatter":{"date":"November 03, 2019","path":"/add-custom-javascript-to-head-gatsby","title":"Adding custom JavaScript to the head section in Gatsby"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}