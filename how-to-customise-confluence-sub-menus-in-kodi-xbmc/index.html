<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>How to customise Confluence sub-menus in Kodi (XBMC) | Alk3my</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Although Kodi is well documented via the wiki and forums, I couldn’t find a tutorial that explained how to customise the base theme (Confluence) to have custom sub-menus. The idea was to separate the">
<meta property="og:type" content="article">
<meta property="og:title" content="How to customise Confluence sub-menus in Kodi (XBMC)">
<meta property="og:url" content="http://alk3my.com/how-to-customise-confluence-sub-menus-in-kodi-xbmc/index.html">
<meta property="og:site_name" content="Alk3my">
<meta property="og:description" content="Although Kodi is well documented via the wiki and forums, I couldn’t find a tutorial that explained how to customise the base theme (Confluence) to have custom sub-menus. The idea was to separate the">
<meta property="og:updated_time" content="2016-05-28T06:09:36.859Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to customise Confluence sub-menus in Kodi (XBMC)">
<meta name="twitter:description" content="Although Kodi is well documented via the wiki and forums, I couldn’t find a tutorial that explained how to customise the base theme (Confluence) to have custom sub-menus. The idea was to separate the">
  
    <link rel="alternate" href="/atom.xml" title="Alk3my" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Alk3my</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Mobile apps and general mad ramblings</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://alk3my.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-how-to-customise-confluence-sub-menus-in-kodi-xbmc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/how-to-customise-confluence-sub-menus-in-kodi-xbmc/" class="article-date">
  <time datetime="2015-04-04T14:45:30.000Z" itemprop="datePublished">2015-04-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      How to customise Confluence sub-menus in Kodi (XBMC)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Although Kodi is well documented via the wiki and forums, I couldn’t find a tutorial that explained how to customise the base theme (Confluence) to have custom sub-menus. The idea was to separate the various genres of TV shows and Movie libraries into distinct menu options. As an example I have Anime, Kids and regular TV shows in my library but I don’t want to see them in the same view. Themes such as Aeon Flux allow a lot of customisation out of the box and you can achieve this using smart playlists and custom menus but in the end I was happiest with Confluence as long as I could set the menus/sub menus.</p>
<h2 id="The-process"><a href="#The-process" class="headerlink" title="The process"></a>The process</h2><p>First up is separating your media. Although you could do it via genre or tags / other, it doesn’t give full control into the separation. An example of my file structure is below.</p>
<p><pre>Anime<br>   |- Movies<br>   |- TV<br>Kids<br>   |- Movies<br>   |- TV<br>TV Series</pre><br>This structure allows the use of smart playlists based on path filtering. Make sure you’ve added these as sources in Kodi/XBMC and set the appropriate content on each folder (the source can just be the root though).</p>
<h2 id="Smart-playlists"><a href="#Smart-playlists" class="headerlink" title="Smart playlists"></a>Smart playlists</h2><p>Next create your smart playlists. You can either use the editor built in to Kodi/XBMC or you can create it manually with an XML editor (or notepad equivalent). The location of these will be in your userdata folder (this means they can be backed up, are portable and will survive updates, etc.). The location varies based on operating system, for my windows machine this was…</p>
<p>%AppData%\Kodi\userdata\playlists</p>
<p>The location for other operating systems can be found in the Kodi <a href="http://kodi.wiki/view/Userdata" title="Kodi Userdata Wiki" target="_blank" rel="external">userdata wiki</a>. Also I was only tackling videos so it was further in the video folder (the process should be the same for music/mixed content). I was pretty comfortable editing manually as most of my playlists were very similar and only varied in path filter and label. See below an example.</p>
<p><pre>&lt;?xml version=”1.0” encoding=”UTF-8” standalone=”yes” ?&gt;<br>&lt;smartplaylist type=”tvshows”&gt;<br>   &lt;name&gt;Anime&lt;/name&gt;<br>   &lt;match&gt;all&lt;/match&gt;<br>   &lt;rule field=”path” operator=”startswith”&gt;<br>      &lt;value&gt;smb://192.168.1.109/EX2/Anime/TV/&lt;/value&gt;<br>   &lt;/rule&gt;<br>&lt;/smartplaylist&gt;</pre><br>The rule could use the “contains” operator instead and just check for “Anime/TV/“ or similar. You can add other conditions and also ordering is possible. Many other options can be found in the Kodi <a href="http://kodi.wiki/view/Smart_playlists#Smart_playlist_for_video" title="Kodi Smart Playlist Wiki" target="_blank" rel="external">smart playlist wiki</a>. The wiki also shows the method using Kodi/XBMC which many will be more comfortable with.</p>
<h2 id="Sub-menus"><a href="#Sub-menus" class="headerlink" title="Sub menus"></a>Sub menus</h2><p>Finally the next step was a bit harder to dig up info around. There was a modded customisable version of Confluence doing the rounds in the past and although I didn’t try it, I had read that it’s not really supported anymore. No matter, it’s still fairly easy to set up the sub-menus (or even main menus for that matter).</p>
<p>First thing to do is copy the “skin.confluence” folder from the main Kodi folder into the addons folder one level up from your userdata section. This again allows you to back up and restore your set up at any point in the future. Again in the case of a windows installation the main folder was at this location…</p>
<p>C:\Program Files (x86)\Kodi\addons</p>
<p>The folder it was copied to was…</p>
<p>%AppData%\Kodi\addons</p>
<p>Now inside this folder you’ll find a “720p” folder. In here you’re looking to edit “IncludesHomeMenuItems.xml” (might want to take a back up incase you edit something incorrectly and need to get back to how it was).</p>
<p>Open it up in your XML editor or choice (or NotePad/TextEdit/nano will do), I prefer Sublime Text 2. The structure is simple includes &gt; include &gt; control. You’re looking to add/remove controls within the include of choice. I wanted my sub-menus under Movies and TVShows so this meant adding/removing controls from “HomeSubMenuMovies” and “HomeSubMenuTVShows” respectively. Leave the image controls at the start and end alone (they’re just for the look of the submenus at their ends). Changing the control order in the file changes the order in Kodi/XBMC.</p>
<p>It’s hard to know what the existing controls are for because their label tag points to an id (of stored label names) rather than an actual label. However the onclick tag gives it away. Most are using the ActivateWindow() function (which we will also use) in the format of, for example (Videos, MoviesActors, return). What this means is it’s using the Videos library, targeting movies, grouped by actors (ignore the return, it has to do with the action when you click back, whether you return to the root menu or not). The following page in the Kodi wiki explains the ActivateWindow function and it’s parameters.</p>
<p>So what we want to do is remove (or comment out using &lt;!– –&gt;) those controls we don’t care about. I commented out the movie genre, actors and years controls as I rarely use them. Now we add our items and target our smart playlists. Below is an example.</p>
<p><pre>&lt;control type=”button” id=”99000”&gt;<br>   &lt;include&gt;ButtonHomeSubCommonValues&lt;/include&gt;<br>   &lt;label&gt;Kids&lt;/label&gt;<br>   &lt;onclick&gt;ActivateWindow(Videos,special://userdata/playlists/video/KidsMovies.xsp,return)&lt;/onclick&gt;<br>&lt;/control&gt;</pre><br>It’s quite similar to the existing items except I’ve explicitly placed a text label there and the ActivateWindow function is a bit different this time. I’m still targeting the Videos database, however I’m using the “special” (protocol I guess it could be called) to get to our userdata path and then target the respective smart playlist. Now take note, your controls all need an Id and it needs to be unique for each of them. I started at the 99000s as nothing else in the file had these.</p>
<p>Btw, editing the main menu items is also simple, just look in the “Home.xml” file instead.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alk3my.com/how-to-customise-confluence-sub-menus-in-kodi-xbmc/" data-id="cioqs0t18000sfgv05yu0wf24" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
    <a href="/add-ntfs-external-drive-to-raspberry-pi-2-raspian/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Add NTFS External drive to Raspberry Pi 2 (Raspian)</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/NET/">.NET</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NET/ASP-MVC/">ASP MVC</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NET/ASP-MVC/UI-Testing/">UI Testing</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/JavaScript/NodeJS/">NodeJS</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/NodeJS/">NodeJS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/NodeJS/">NodeJS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NodeJS/UI-Testing/">UI Testing</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TypeScript/">TypeScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/UI-Testing/">UI Testing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web-API/">Web API</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/rootScope/">$rootScope</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AngularJS/">AngularJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CacheOutput/">CacheOutput</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CommonJS/">CommonJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cordova/">Cordova</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClient/">HttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVC/">MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeJS/">NodeJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PageObjects/">PageObjects</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Selenium/">Selenium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/">Testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI/">UI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-API/">Web API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebDriver/">WebDriver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http-server/">http-server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/routes/">routes</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/rootScope/" style="font-size: 10px;">$rootScope</a> <a href="/tags/AngularJS/" style="font-size: 10px;">AngularJS</a> <a href="/tags/CacheOutput/" style="font-size: 10px;">CacheOutput</a> <a href="/tags/CommonJS/" style="font-size: 10px;">CommonJS</a> <a href="/tags/Cordova/" style="font-size: 10px;">Cordova</a> <a href="/tags/HttpClient/" style="font-size: 10px;">HttpClient</a> <a href="/tags/MVC/" style="font-size: 10px;">MVC</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/tags/PageObjects/" style="font-size: 10px;">PageObjects</a> <a href="/tags/Selenium/" style="font-size: 20px;">Selenium</a> <a href="/tags/Testing/" style="font-size: 20px;">Testing</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/UI/" style="font-size: 20px;">UI</a> <a href="/tags/Web-API/" style="font-size: 10px;">Web API</a> <a href="/tags/WebDriver/" style="font-size: 10px;">WebDriver</a> <a href="/tags/http-server/" style="font-size: 10px;">http-server</a> <a href="/tags/routes/" style="font-size: 10px;">routes</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/how-to-customise-confluence-sub-menus-in-kodi-xbmc/">How to customise Confluence sub-menus in Kodi (XBMC)</a>
          </li>
        
          <li>
            <a href="/add-ntfs-external-drive-to-raspberry-pi-2-raspian/">Add NTFS External drive to Raspberry Pi 2 (Raspian)</a>
          </li>
        
          <li>
            <a href="/set-up-ionic-framework/">Set up Ionic framework</a>
          </li>
        
          <li>
            <a href="/simple-http-server-for-cordova-development/">Simple HTTP server for Cordova development</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Allan Oliveira<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>